{"mappings":"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","sources":["node_modules/.pnpm/@swc+helpers@0.2.14/node_modules/@swc/helpers/src/_class_call_check.js","node_modules/.pnpm/@swc+helpers@0.2.14/node_modules/@swc/helpers/src/_create_class.js","node_modules/.pnpm/@swc+helpers@0.2.14/node_modules/@swc/helpers/src/_set_prototype_of.js","node_modules/.pnpm/@swc+helpers@0.2.14/node_modules/@swc/helpers/src/_inherits.js","node_modules/.pnpm/@swc+helpers@0.2.14/node_modules/@swc/helpers/src/_iterable_to_array.js","node_modules/.pnpm/@swc+helpers@0.2.14/node_modules/@swc/helpers/src/_sliced_to_array.js","node_modules/.pnpm/@swc+helpers@0.2.14/node_modules/@swc/helpers/src/_array_with_holes.js","node_modules/.pnpm/@swc+helpers@0.2.14/node_modules/@swc/helpers/src/_non_iterable_rest.js","node_modules/.pnpm/@swc+helpers@0.2.14/node_modules/@swc/helpers/src/_to_consumable_array.js","node_modules/.pnpm/@swc+helpers@0.2.14/node_modules/@swc/helpers/src/_array_without_holes.js","node_modules/.pnpm/@swc+helpers@0.2.14/node_modules/@swc/helpers/src/_non_iterable_spread.js","node_modules/.pnpm/@swc+helpers@0.2.14/node_modules/@swc/helpers/src/_construct.js","node_modules/.pnpm/@swc+helpers@0.2.14/node_modules/@swc/helpers/src/_get_prototype_of.js","node_modules/.pnpm/@swc+helpers@0.2.14/node_modules/@swc/helpers/src/_wrap_native_super.js","node_modules/.pnpm/@swc+helpers@0.2.14/node_modules/@swc/helpers/src/_is_native_function.js","node_modules/.pnpm/@swc+helpers@0.2.14/node_modules/@swc/helpers/src/_possible_constructor_return.js","node_modules/.pnpm/@swc+helpers@0.2.14/node_modules/@swc/helpers/src/_type_of.js","node_modules/.pnpm/@swc+helpers@0.2.14/node_modules/@swc/helpers/src/_assert_this_initialized.js","node_modules/.pnpm/@swc+helpers@0.2.14/node_modules/@swc/helpers/src/_create_super.js","node_modules/.pnpm/@swc+helpers@0.2.14/node_modules/@swc/helpers/src/_is_native_reflect_construct.js","src/ts/gameScore.ts","src/ts/gameTile.ts","src/ts/gameBoard.ts","src/ts/gameToken.ts","src/ts/main.ts"],"sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n","function setPrototypeOf(o, p) {\n  setPrototypeOf = Object.setPrototypeOf || function setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return setPrototypeOf(o, p);\n}\n\nexport default function _setPrototypeOf(o, p) {\n  return setPrototypeOf(o, p);\n}\n","import setPrototypeOf from './_set_prototype_of';\n\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n","import arrayWithHoles from './_array_with_holes';\nimport iterableToArrayLimit from './_iterable_to_array';\nimport nonIterableRest from './_non_iterable_rest';\n\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n","import arrayWithoutHoles from './_array_without_holes';\nimport iterableToArray from './_iterable_to_array';\nimport nonIterableSpread from './_non_iterable_spread';\n\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n","function isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () { }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    construct = Reflect.construct;\n  } else {\n    construct = function construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return construct.apply(null, arguments);\n}\n\nexport default function _construct(Parent, args, Class) {\n  return construct.apply(null, arguments);\n}","function getPrototypeOf(o) {\n  getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return getPrototypeOf(o);\n}\n\nexport default function _getPrototypeOf(o) {\n  return getPrototypeOf(o);\n}","import construct from './_construct';\nimport isNativeFunction from './_is_native_function';\nimport getPrototypeOf from './_get_prototype_of';\nimport setPrototypeOf from './_set_prototype_of';\n\nfunction wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  wrapNativeSuper = function wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return wrapNativeSuper(Class);\n}\n\nexport default function _wrapNativeSuper(Class) {\n  return wrapNativeSuper(Class);\n}\n","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n","import assertThisInitialized from './_assert_this_initialized';\nimport _typeof from './_type_of';\n\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n","export default function _typeof(obj) {\n    return obj && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n};\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n","import _isNativeReflectConstruct from \"./_is_native_reflect_construct\";\nimport _getPrototypeOf from \"./_get_prototype_of\";\nimport _possibleConstructorReturn from './_possible_constructor_return';\n\nexport default function _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n    return function _createSuperInternal() {\n        var Super = _getPrototypeOf(Derived),\n            result;\n        if (hasNativeReflectConstruct) {\n            var NewTarget = _getPrototypeOf(this).constructor;\n            result = Reflect.construct(Super, arguments, NewTarget);\n        } else {\n            result = Super.apply(this, arguments);\n        }\n        return _possibleConstructorReturn(this, result);\n    };\n}","export default function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n    try {\n        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { }));\n        return true;\n    } catch (e) {\n        return false;\n    }\n}","export class GameScore extends HTMLElement {\r\n  get score(): number {\r\n    return this._score;\r\n  }\r\n  set score(value: number) {\r\n    this._score = value;\r\n    this.innerHTML = `\r\n      <style>\r\n        game-score {\r\n          contain: content;\r\n          display: grid;\r\n          place-content: center;\r\n        }\r\n      </style>\r\n      <p>Score: ${this._score}</p>\r\n    `;\r\n  }\r\n\r\n  private _score: number = 0;\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    this.score = 0;\r\n  }\r\n}\r\n","export class GameTile extends HTMLElement {\r\n  x!: number;\r\n  y!: number;\r\n\r\n  connectedCallback() {\r\n    this.innerHTML = `\r\n    <style>\r\n    game-tile {\r\n      display: grid;\r\n      contain: layout size style;\r\n      grid-auto-flow: row;\r\n      place-content: center;\r\n    }\r\n    </style>\r\n    `;\r\n    let xString = this.getAttribute('x') ?? '';\r\n    this.x = parseInt(xString);\r\n\r\n    let yString = this.getAttribute('y') ?? '';\r\n    this.y = parseInt(yString);\r\n  }\r\n}\r\n","import {GameTile} from \"./gameTile\";\r\n\r\nexport class GameBoard extends HTMLElement {\r\n  rows!: number;\r\n  columns!: number;\r\n  tiles: GameTile[] = [];\r\n\r\n  static get observedAttributes() {\r\n    return ['rows', 'columns'];\r\n  }\r\n\r\n  private createBoard() {\r\n    const template = document.createElement('template');\r\n\r\n    template.innerHTML = `\r\n      <style>\r\n        game-board {\r\n          display: grid;\r\n          grid-template-columns: repeat(${this.columns}, 1fr);\r\n          contain: content;\r\n        }\r\n      </style>`;\r\n    this.replaceChildren(template.content);\r\n    for (let y = 0; y < this.rows; y++) {\r\n      for (let x = 0; x < this.columns; x++) {\r\n        const gameTile = document.createElement('game-tile') as GameTile;\r\n        gameTile.setAttribute('x', x.toString());\r\n        gameTile.setAttribute('y', y.toString());\r\n\r\n        this.appendChild(gameTile);\r\n        this.tiles.push(gameTile)\r\n      }\r\n    }\r\n  }\r\n\r\n  connectedCallback() {\r\n    console.log(\"game-board connected\")\r\n  }\r\n\r\n  attributeChangedCallback() {\r\n    const rowsAttribute = this.getAttribute('rows') ?? '4';\r\n    this.rows = parseInt(rowsAttribute);\r\n    const columnsAttribute = this.getAttribute('columns') ?? '4';\r\n    this.columns = parseInt(columnsAttribute);\r\n    console.log('attributes changed')\r\n    this.createBoard();\r\n  }\r\n}\r\n","export class GameToken extends HTMLElement {\r\n  value: number = 2;\r\n  id!: string;\r\n  init = true;\r\n\r\n  private oldOffsetTop!: number;\r\n  private oldOffsetLeft!: number;\r\n\r\n  connectedCallback() {\r\n    if (this.init) {\r\n      this.id = \"id\" + Math.random().toString(16).slice(2, 10);\r\n      this.setAttribute('id', this.id);\r\n      this.init = false;\r\n\r\n      this.style.contain = 'content';\r\n      this.style.display = 'grid';\r\n      this.style.placeContent = 'center';\r\n      this.style.placeItems = 'center';\r\n      this.style.position = 'relative';\r\n      this.style.animation = `slide${this.id} 250ms ease-in-out`;\r\n    }\r\n\r\n    this.oldOffsetLeft = this.oldOffsetLeft ?? this.offsetLeft;\r\n    this.oldOffsetTop = this.oldOffsetTop ?? this.offsetTop;\r\n\r\n    this.innerHTML = `\r\n    <style>\r\n      @keyframes slide${this.id} {\r\n        from{\r\n          transform: translate(${this.oldOffsetLeft - this.offsetLeft}px, ${this.oldOffsetTop - this.offsetTop}px);\r\n        }\r\n        to {\r\n          transform: translate(0, 0);\r\n        }\r\n      }\r\n    </style>\r\n    <p>${this.value}</p>\r\n    `\r\n\r\n    // console.info(`Token was at ${this.oldOffsetLeft}px / ${this.oldOffsetTop}px`)\r\n    // console.info(`Connecting Token at ${this.offsetLeft}px / ${this.offsetTop}px`)\r\n    this.oldOffsetTop = this.offsetTop;\r\n    this.oldOffsetLeft = this.offsetLeft;\r\n  }\r\n}\r\n","import {GameScore} from \"./gameScore\";\r\nimport {GameTile} from \"./gameTile\";\r\nimport {GameBoard} from \"./gameBoard\";\r\nimport {GameToken} from \"./gameToken\";\r\n\r\nconst customGameElements = {\r\n  'game-board': GameBoard,\r\n  'game-token': GameToken,\r\n  'game-tile': GameTile,\r\n  'game-score': GameScore,\r\n};\r\n\r\ntype DirectionKey = \"ArrowLeft\" | \"ArrowRight\" | \"ArrowDown\" | \"ArrowUp\";\r\ntype Direction = \"up\" | \"down\" | \"left\" | \"right\";\r\ntype Axis = \"x\" | \"y\";\r\ntype AxisInfo = { cross: Axis; main: Axis; reversed: boolean, length: 'columns' | 'rows' };\r\n\r\nconst axes: {\r\n  [key in Direction]: AxisInfo;\r\n} = {\r\n  up: {main: 'x', cross: 'y', reversed: false, length: 'columns'},\r\n  down: {main: 'x', cross: 'y', reversed: true, length: 'columns'},\r\n  left: {main: 'y', cross: 'x', reversed: false, length: 'rows'},\r\n  right: {main: 'y', cross: 'x', reversed: true, length: 'rows'},\r\n}\r\n\r\nconst keyDirection: {\r\n  [key in DirectionKey]: Direction;\r\n} = {\r\n  \"ArrowLeft\": \"left\",\r\n  \"ArrowRight\": \"right\",\r\n  \"ArrowDown\": \"down\",\r\n  \"ArrowUp\": \"up\"\r\n}\r\nObject.entries(customGameElements).forEach(([element, className]) => {\r\n  console.info(`Registering <${element}>`)\r\n\r\n  customElements.define(element, className);\r\n\r\n});\r\n\r\nconst board = document.getElementsByTagName('game-board')[0] as GameBoard;\r\nconst score = document.getElementsByTagName('game-score')[0] as GameScore;\r\nconst tiles: GameTile[] = Array.from(board.querySelectorAll('game-tile'));\r\n\r\nconsole.log(\"Starting game.\")\r\n\r\nwindow.addEventListener('keydown', handleKey);\r\nplaceRandomToken();\r\n\r\nfunction handleKey(event: KeyboardEvent) {\r\n  if (!Object.keys(keyDirection).includes(event.key)) return;\r\n\r\n  const boardBeforeMove = stringify(board);\r\n\r\n  const direction = keyDirection[event.key as DirectionKey];\r\n  slideTokens(tiles, direction)\r\n\r\n  const boardAfterMove = stringify(board);\r\n\r\n  if (boardAfterMove === boardBeforeMove) {\r\n    console.log(\"BOARD HASN'T CHANGED\");\r\n    return;\r\n  }\r\n\r\n  setTimeout(placeRandomToken, 250);\r\n\r\n  if (!isMovePossible()) {\r\n    console.log(\"YOU LOST.\")\r\n    window.removeEventListener('keydown', handleKey);\r\n  }\r\n}\r\n\r\n// could this logic be flipped? search through the tiles for the next token and whether it fits?\r\n// + could be more functional, would return the modified tiles\r\n// - would look at every tile, often more than once and unnecessarily\r\nfunction slideTokens(tiles: GameTile[], direction: Direction) {\r\n  const axisInfo = axes[direction];\r\n\r\n  let lanes: GameTile[][] = sortTilesIntoLanes(tiles, axisInfo)\r\n  lanes.map((lane) => {\r\n    let tokenMerged = false;\r\n    lane.forEach((tile, index) => {\r\n      const token = tile.querySelector('game-token') as GameToken;\r\n      if (!token) return;\r\n      slideSingleToken(index, lane, token, tokenMerged);\r\n    });\r\n    return lane;\r\n  })\r\n}\r\n\r\nfunction sortTilesIntoLanes(tiles: GameTile[], axisInfo: AxisInfo) {\r\n  const laneAxis: Axis = axisInfo.main;\r\n  return tiles.reduce((lanes: GameTile[][], tile) => {\r\n    const lane = tile[laneAxis];\r\n    if (lanes.hasOwnProperty(lane) && axisInfo.reversed) {\r\n      lanes[lane].unshift(tile);\r\n    } else if (lanes.hasOwnProperty(lane)) {\r\n      lanes[lane].push(tile);\r\n    } else {\r\n      lanes[lane] = [tile]\r\n    }\r\n    return lanes;\r\n  }, []);\r\n}\r\n\r\nfunction slideSingleToken(index: number, lane: GameTile[], token: GameToken, tokenMerged: boolean) {\r\n  while (index > 0) {\r\n    index--;\r\n    const tileToCheck = lane[index];\r\n    const otherToken = tileToCheck.querySelector('game-token') as GameToken;\r\n    if (token.value === otherToken?.value && !tokenMerged) {\r\n      mergeOnNextTile(token, otherToken);\r\n      tokenMerged = true;\r\n      return;\r\n    } else if (otherToken) {\r\n      leaveOnCurrentTile(lane, index, token);\r\n      tokenMerged = false;\r\n      return;\r\n    }\r\n  }\r\n  leaveOnLastTile(lane, token);\r\n}\r\n\r\nfunction isMovePossible(): boolean {\r\n  const emptyTiles = getEmptyTiles(tiles);\r\n  if (emptyTiles) return true;\r\n\r\n  const vertAxisInfo = axes['down'];\r\n  const horAxisInfo = axes['right'];\r\n\r\n  let lanes: GameTile[][] = [\r\n    ...sortTilesIntoLanes(tiles, vertAxisInfo),\r\n    ...sortTilesIntoLanes(tiles, horAxisInfo)\r\n  ]\r\n  return lanes\r\n    .some(lane => lane\r\n      .some((tile, index) => {\r\n        if (index + 1 === lane.length) return false;\r\n        const token = tile.querySelector('game-token') as GameToken;\r\n        const nextToken = lane[index + 1].querySelector('game-token') as GameToken;\r\n        if (!(token && nextToken)) return false;\r\n        else if (token.value === nextToken.value) {\r\n          return true;\r\n        }\r\n      })\r\n    )\r\n}\r\n\r\nfunction mergeOnNextTile(token: GameToken, otherToken: GameToken) {\r\n  token.value *= 2;\r\n  score.score = score.score + token.value;\r\n  otherToken.replaceWith(token);\r\n}\r\n\r\nfunction leaveOnCurrentTile(lane: GameTile[], searchIndex: number, token: GameToken) {\r\n  const previousTile = lane[searchIndex + 1];\r\n  previousTile.appendChild(token)\r\n}\r\n\r\nfunction leaveOnLastTile(lane: GameTile[], token: GameToken) {\r\n  lane[0].appendChild(token)\r\n}\r\n\r\nfunction getEmptyTiles(tiles: GameTile[]) {\r\n  return tiles\r\n    .filter(tile => Array.from(tile.children)\r\n      .every(child => !(child instanceof GameToken)));\r\n}\r\n\r\nfunction placeRandomToken() {\r\n  const emptyTiles = getEmptyTiles(tiles);\r\n  const randomIndex = Math.floor(Math.random() * emptyTiles.length);\r\n  const token = document.createElement('game-token');\r\n  emptyTiles[randomIndex].appendChild(token);\r\n}\r\n\r\n// stolen and modified from https://stackoverflow.com/questions/46880822/how-to-json-stringify-a-dom-element\r\nfunction stringify(element: Element) {\r\n  let obj: { name: string; attributes: Array<any>; children: Array<any> } = {\r\n    name: element.localName,\r\n    attributes: [],\r\n    children: [],\r\n  };\r\n\r\n  Array.from(element.attributes).forEach(a => {\r\n    obj.attributes.push({name: a.name, value: a.value});\r\n  });\r\n  Array.from(element.children).forEach(child => {\r\n    obj.children.push(stringify(child));\r\n  });\r\n\r\n  return JSON.stringify(obj);\r\n}\r\n\r\nexport const Game = {\r\n  placeRandomToken\r\n}\r\n"],"names":["instance","Constructor","TypeError","$6548d93da5682f95$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","$a188de91eabf5a80$var$setPrototypeOf","o1","p1","setPrototypeOf","o","p","__proto__","subClass","superClass","create","constructor","value","$a188de91eabf5a80$export$2e2bcd8739ae039","iter","Symbol","iterator","toString","call","Array","from","arr","isArray","$efa8a05865fbca08$export$2e2bcd8739ae039","$88a13ecfc2ff186d$export$2e2bcd8739ae039","$644671ff86e945cc$export$2e2bcd8739ae039","arr2","$022f3d75e1c8fc58$export$2e2bcd8739ae039","$0a3bba8be67ec669$export$2e2bcd8739ae039","$9e5fb7573a6bf8fe$var$isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","e","$9e5fb7573a6bf8fe$var$construct","Parent1","args1","Class1","Parent","args","Class","a","push","apply","Function","bind","_setPrototypeOf","arguments","$2d9fa65d721e2938$var$getPrototypeOf","getPrototypeOf","$7d55cc54a13c8ce8$var$wrapNativeSuper","_cache","Map","undefined","fn","indexOf","has","get","set","Wrapper","$9e5fb7573a6bf8fe$export$2e2bcd8739ae039","$2d9fa65d721e2938$export$2e2bcd8739ae039","this","self","obj","ReferenceError","$e8c0d0778c4cf5da$export$2e2bcd8739ae039","Derived","hasNativeReflectConstruct","Boolean","valueOf","$81240b273e892749$export$2e2bcd8739ae039","result","Super","NewTarget","$6501b00f852d7831$export$2e2bcd8739ae039","$427b8fc560bbb3fb$export$e9aef883a3932a46","HTMLElement","_score","score","innerHTML","concat","$a94f89f9969f9ee4$export$ae62e2a19941d7f4","ref","ref1","xString","getAttribute","x","parseInt","yString","y","$06bf159f43e7e1ab$export$5e17e8ad324a9581","tiles","template","document","createElement","columns","replaceChildren","content","rows","gameTile","setAttribute","appendChild","console","log","rowsAttribute","columnsAttribute","createBoard","$e91d5a137caa1397$export$1d51a309a5a565af","init","_oldOffsetLeft","_oldOffsetTop","id","Math","random","slice","style","contain","display","placeContent","placeItems","position","animation","oldOffsetLeft","offsetLeft","oldOffsetTop","offsetTop","$c9c33ea82c0377e3$var$customGameElements","$c9c33ea82c0377e3$var$axes","up","main","cross","reversed","down","left","right","$c9c33ea82c0377e3$var$keyDirection","ArrowLeft","ArrowRight","ArrowDown","ArrowUp","entries","forEach","param","element","_param","className","info","customElements","define","$c9c33ea82c0377e3$var$board","getElementsByTagName","$c9c33ea82c0377e3$var$score","$c9c33ea82c0377e3$var$tiles","querySelectorAll","$c9c33ea82c0377e3$var$sortTilesIntoLanes","axisInfo","laneAxis","reduce","lanes","tile","lane","hasOwnProperty","unshift","$c9c33ea82c0377e3$var$mergeOnNextTile","token","otherToken","replaceWith","$c9c33ea82c0377e3$var$leaveOnCurrentTile","searchIndex","$c9c33ea82c0377e3$var$getEmptyTiles","filter","children","every","child","$c9c33ea82c0377e3$var$placeRandomToken","emptyTiles","randomIndex","floor","$c9c33ea82c0377e3$var$stringify","name","localName","attributes","JSON","stringify","window","addEventListener","$c9c33ea82c0377e3$var$handleKey","event","keys","includes","boardBeforeMove","direction","map","index","querySelector","tokenMerged","$c9c33ea82c0377e3$var$leaveOnLastTile","$c9c33ea82c0377e3$var$slideSingleToken","$c9c33ea82c0377e3$var$slideTokens","setTimeout","horAxisInfo","$5e05b542effc64cc$export$2e2bcd8739ae039","some","nextToken","$c9c33ea82c0377e3$var$isMovePossible","removeEventListener"],"version":3,"file":"index.60447dff.js.map"}